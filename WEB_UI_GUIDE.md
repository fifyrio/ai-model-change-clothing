# Web UI 使用指南

## 快速开始

### 1. 启动 Web 服务器

在项目根目录运行：

```bash
npm run web
```

服务器将在 http://localhost:3000 启动

### 2. 上传图片

**两种上传方式：**

**方式一：点击上传**
1. 点击虚线框区域
2. 在文件选择对话框中选择一张或多张图片

**方式二：拖拽上传**
1. 从文件管理器中选择图片
2. 直接拖拽到虚线框区域
3. 看到紫色高亮时松开鼠标，文件即被添加

**上传后的操作：**
- 所有图片会在网格视图中显示预览
- 支持的格式：PNG, JPG, GIF (每个文件最大 10MB)
- 可以点击每张图片上的 "Remove" 按钮移除不需要的图片
- 点击 "Clear All" 清除所有选择的图片
- 点击 "Upload X file(s) to chuandai folder" 按钮批量上传到 `chuandai` 目录

### 3. 选择人物模型

点击三个人物选项之一：
- **lin** - 林模型
- **Qiao** - 乔模型
- **lin_home_1** - 林家居模型

选中的人物会以紫色高亮显示

### 4. 生成图片

点击 "Generate Images" 按钮开始生成：
- 系统会执行: `npm run batch random [选中的人物]`
- 生成过程可能需要一些时间，请耐心等待
- 完成后会显示成功提示

## 界面特点

- **拖拽上传**：支持直接拖拽文件到上传区域
- **拖拽视觉反馈**：拖拽时上传区域显示紫色高亮和放大效果
- **多文件上传**：支持一次选择和上传多张图片
- **网格预览**：所有选中的图片以网格形式展示，方便管理
- **单独移除**：可以单独移除不需要的图片
- **实时计数**：显示已选择的文件数量
- **状态反馈**：上传和生成过程都有清晰的状态提示
- **响应式设计**：支持移动设备访问，自适应不同屏幕尺寸
- **美观的 UI**：渐变背景和流畅动画
- **悬停效果**：鼠标悬停图片时显示移除按钮

## 技术栈

- Next.js 15 (App Router)
- TypeScript
- Tailwind CSS 4
- Node.js API Routes

## 常见问题

### 上传失败？

- 确保 `chuandai` 目录存在
- 检查文件权限
- 确认文件大小不超过 10MB

### 生成失败？

- 确保已配置 `.env` 文件中的 API 密钥
- 先在命令行测试: `npm run batch random lin`
- 查看浏览器控制台的错误信息

## 与命令行的对比

| 功能 | 命令行 | Web UI |
|------|--------|--------|
| 上传图片 | 手动复制到目录 | 点击或拖拽上传，支持多文件 |
| 拖拽上传 | 不支持 | ✅ 支持，带视觉反馈 |
| 预览图片 | 不支持 | 网格视图预览所有图片 |
| 管理图片 | 手动删除文件 | 点击按钮单独移除 |
| 选择人物 | 命令参数 | 点击选择 |
| 生成图片 | `npm run batch random [人物]` | 点击按钮 |
| 查看状态 | 终端输出 | 页面提示 |
| 批量操作 | 需要多次命令 | 一次性上传多个文件 |

Web UI 让整个流程更加直观和易用！
